<view wx:if="{{isHide}}">
	<view class="authority" wx:if="{{canIUse}}">
		<view class="top"></view>
		<view class="text block">
			<view class="text-center text-black">申请获取以下权限</view>
			<view class="text-center text-black">获得你的公开信息(昵称，头像等)</view>
		</view>
		<view class="bottom flex justify-center">
			<button class="cu-btn bg-red margin-tb-sm lg" open-type="getUserInfo" lang="zh_CN" bindgetuserinfo="bindGetUserInfo">授权登录</button>
		</view>
	</view>
	<view wx:else>请升级微信版本</view>
</view>

<view wx:else>
	<view wx:if="{{personal.username==''||personal.firstname==''||personal.lastname==''||personal.grade==''||personal.profession==''||personal.class==''||personal.area==''||personal.username==null||personal.firstname==null||personal.lastname==null||personal.grade==null||personal.profession==null||personal.class==null||personal.area==null||save}}">
		<cu-custom bgColor="bg-white">
			<view slot="content" style="color: balck">资料填写</view>
		</cu-custom>

		<view class="cu-list menu sm-border">
			<view class="cu-item">
				<view class="content">
					<text class="text-grey">昵称</text>
				</view>
				<view class="action text-right">
					<input placeholder="请填入昵称" value="{{personal.username}}" maxlength="{{10}}" data-name='personal.username' bindinput="inputs"></input>
				</view>
			</view>
			<view class="cu-item">
				<view class="content">
					<text class="text-grey">姓</text>
				</view>
				<view class="action text-right">
					<input placeholder="请填入真实的姓氏" value="{{personal.firstname}}" maxlength="{{5}}" data-name='personal.firstname' bindinput="inputs"></input>
				</view>
			</view>
			<view class="cu-item">
				<view class="content">
					<text class="text-grey">名</text>
				</view>
				<view class="action text-right">
					<input placeholder="请填入真实的名字" value="{{personal.lastname}}" maxlength="{{5}}" data-name='personal.lastname' bindinput="inputs"></input>
				</view>
			</view>
			<view class="cu-item">
				<view class="content">
					<text class="text-grey">年级</text>
				</view>
				<view class="action text-right">
					<picker mode="selector" bindchange="bindGradeChange" range="{{gradearray}}">
						<view class="picker">
							<text>{{personal.grade}} 级</text>
						</view>
					</picker>
				</view>
			</view>
			<view class="cu-item">
				<view class="content">
					<text class="text-grey">专业</text>
				</view>
				<view class="action text-right">
					<input placeholder="请填入正确的专业名" value="{{personal.profession}}" maxlength="{{10}}" data-name='personal.profession' bindinput="inputs"></input>
				</view>
			</view>
			<view class="cu-item">
				<view class="content">
					<text class="text-grey">班级</text>
				</view>
				<view class="action text-right">
					<picker mode="selector" bindchange="bindClassChange" range="{{classarray}}">
						<view class="picker">
							<text>{{personal.class}} 班</text>
						</view>
					</picker>
				</view>
			</view>
			<view class="cu-item">
				<view class="content">
					<text class="text-grey">地点</text>
				</view>
				<view class="action text-right">
					<picker mode="region" bindchange="bindAreaChange" value="{{personal.area}}">
						<view class="picker">
							<text>{{personal.area[0]}} {{personal.area[1]}} {{personal.area[2]}}</text>
							<text class="cuIcon-triangledownfill"></text>
						</view>
					</picker>
				</view>
			</view>
		</view>

		<view class="margin flex justify-center">
			<button class="cu-btn bg-red shadow-blur" wx:if="{{save}}" bindtap="saveupdate">保存</button>
		</view>
	</view>

	<view wx:else>
		<home></home>
	</view>
</view>